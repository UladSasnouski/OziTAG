(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,a,t){e.exports={userCard__container:"UserCard_userCard__container__1XDyk",userCard__avatarContainer:"UserCard_userCard__avatarContainer__1kkSI",userCard__profile:"UserCard_userCard__profile__217km",userCard__underLine:"UserCard_userCard__underLine__1BzpY",userCard__underlineColor:"UserCard_userCard__underlineColor__1p6Yf",userCard__imageWrapper:"UserCard_userCard__imageWrapper__2g9Gx"}},37:function(e,a,t){},38:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var c=t(15),r=t.n(c),n=(t(37),t(0)),i=(t(38),t(3)),s=t(10),l=t(5),d=t(30),o=t.n(d).a.create({baseURL:"https://tager.dev.ozitag.com/api/"}),u=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1"),j=function(e){return{type:"SET_USER_DATA",data:Object(l.a)({},e)}},h=function(e){return{type:"LOG_OUT",data:Object(l.a)({},e)}},v=function(){return{type:"SET_LOGOUT"}},b=function(){return{type:"SET_LOGIN"}},p=function(e){return{type:"SET_ERROR",data:Object(l.a)({},e)}},O=t(12),f=t.n(O),m=t(1),_=function(){return Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"none",viewBox:"0 0 100 100",children:[Object(m.jsxs)("g",{clipPath:"url(#clip0)",children:[Object(m.jsx)("path",{fill:"#FFDFBA",d:"M82.083 88.487v8.18c0 .92-.746 1.666-1.666 1.666H19.582c-.92 0-1.666-.745-1.666-1.666v-8.18c0-8.543 6.898-15.626 15.44-15.535 4.834.048 8.726-3.84 8.726-8.612v-1.423l.032-.077c-7.48-3.096-12.74-10.465-12.74-19.063v-.652c-2.97 0-5.208-2.346-5.208-5.112V19.648a18.202 18.202 0 017.985-15.062l2.45-1.66a1.666 1.666 0 012.525.883l.865 2.766a1.667 1.667 0 002.246 1.036l12.3-5.25a1.67 1.67 0 012.225.973l.968 2.712a1.665 1.665 0 002.009 1.048l10.156-2.769A1.666 1.666 0 0170 5.932v2.314c0 .681.415 1.296 1.048 1.548l7.564 3.027a1.672 1.672 0 01.836 2.36 27.837 27.837 0 00-3.406 13.342v9.186a5.417 5.417 0 01-5.417 5.416v.652c0 8.598-5.26 15.967-12.74 19.063l.032.077v1.423c0 4.78 3.899 8.66 8.727 8.612 8.541-.091 15.44 6.992 15.44 15.535z"}),Object(m.jsx)("path",{fill:"#FFAA64",d:"M82.083 88.488v8.179c0 .92-.746 1.666-1.666 1.666H19.582c-.92 0-1.666-.746-1.666-1.666v-8.18c0-8.542 6.897-15.627 15.44-15.535a8.622 8.622 0 003.539-.712v.002A14.336 14.336 0 0050 80.796a14.336 14.336 0 0013.104-8.554v-.002a8.626 8.626 0 003.54.712c8.541-.093 15.44 6.993 15.44 15.536z"}),Object(m.jsx)("path",{fill:"#FFE773",d:"M70 8.247c0 .682.415 1.294 1.048 1.548l7.564 3.025a1.672 1.672 0 01.835 2.362 27.852 27.852 0 00-3.405 13.341v9.186a5.417 5.417 0 01-5.417 5.416V30.258c0-5.523-4.477-10-10-10h-21.25c-5.523 0-10 4.477-10 10v12.869c-2.97 0-5.208-2.347-5.208-5.113V19.649a18.202 18.202 0 017.985-15.063l2.45-1.66a1.667 1.667 0 012.525.882l.865 2.767a1.667 1.667 0 002.245 1.036l12.301-5.25c.883-.376 1.901.07 2.224.973l.969 2.713a1.667 1.667 0 002.008 1.047l10.155-2.77A1.667 1.667 0 0170 5.934v2.314z"}),Object(m.jsx)("path",{fill:"#FFEBD2",d:"M70.625 43.777c0 11.395-9.24 20.625-20.625 20.625s-20.625-9.23-20.625-20.625v-13.52c0-5.523 4.477-10 10-10h21.25c5.523 0 10 4.477 10 10v13.52z"}),Object(m.jsx)("path",{fill:"#FFD6A6",d:"M58.152 66.338c-5.133 2.148-10.773 2.315-16.304 0 .282-1.172.235-1.932.235-3.421l.032-.077a20.667 20.667 0 0015.77 0l.032.077c0 1.49-.047 2.249.235 3.42z"}),Object(m.jsx)("path",{fill:"#FFF3E4",d:"M45.33 57.095c3.391 2.122.717 7.325-2.995 5.834-7.632-3.063-12.96-10.5-12.96-19.152v-13.52c0-2.102.648-4.051 1.755-5.66 1.387-2.017 4.51-1.017 4.495 1.43v13.584c0 7.606 3.998 13.914 9.705 17.484z"}),Object(m.jsx)("path",{fill:"#FFBD7B",d:"M37.76 73.902c1.147 1.89.107 4.355-2.031 4.92-5.106 1.347-11.77 4.938-11.77 14.874v4.637h-4.375c-.92 0-1.667-.746-1.667-1.666v-8.18c0-8.543 6.898-15.626 15.44-15.535a8.633 8.633 0 003.539-.712v.002c.254.576.543 1.13.864 1.66z"}),Object(m.jsx)("path",{fill:"#FAA157",d:"M62.24 73.902c-1.147 1.89-.107 4.355 2.031 4.92 5.106 1.347 11.77 4.938 11.77 14.874v4.637h4.376c.92 0 1.666-.746 1.666-1.666v-8.18c0-8.543-6.898-15.626-15.44-15.535a8.633 8.633 0 01-3.539-.712v.002c-.254.576-.543 1.13-.864 1.66z"}),Object(m.jsx)("path",{fill:"#FFEC8F",d:"M40.237 7.61c.05-.02.087.048.043.078L38.402 8.96a18.203 18.203 0 00-7.985 15.062v1.786a9.954 9.954 0 00-1.042 4.447v12.87c-2.97 0-5.208-2.347-5.208-5.113V19.648a18.203 18.203 0 017.985-15.062l2.45-1.66a1.666 1.666 0 012.525.883l.865 2.766a1.667 1.667 0 002.245 1.036z"}),Object(m.jsx)("path",{fill:"#000",d:"M83.75 88.488v9.845a1.667 1.667 0 01-3.334 0v-9.845c0-7.665-6.203-13.869-13.869-13.869a10.233 10.233 0 01-8.803-4.943 1.666 1.666 0 112.846-1.734 6.924 6.924 0 005.957 3.344c9.508 0 17.203 7.694 17.203 17.202zM60.498 76.351a1.666 1.666 0 01-.202 2.348c-7.675 6.461-19.337 4.346-24.238-4.412a10.38 10.38 0 01-2.605.332c-7.683 0-13.87 6.219-13.87 13.869v9.845a1.667 1.667 0 01-3.333 0v-9.845c0-9.507 7.694-17.202 17.203-17.202 3.844 0 6.964-3.097 6.964-6.946v-.44c-7.275-3.478-12.381-10.788-12.692-19.3-2.994-.72-5.225-3.4-5.225-6.587V19.648c0-6.595 3.26-12.74 8.717-16.441l4.306-2.92a1.667 1.667 0 012.526.883l1.534 4.907L53.513.134a1.668 1.668 0 012.223.972l1.565 4.38 12.26-3.344a1.668 1.668 0 012.106 1.608v4.496l9.369 3.748a1.667 1.667 0 01.785 2.444 26.127 26.127 0 00-4.113 14.085v9.489a1.667 1.667 0 01-3.333 0v-9.489c0-4.968 1.246-9.822 3.617-14.156l-8.611-3.444a1.666 1.666 0 01-1.048-1.548V5.933L56.688 9.108a1.668 1.668 0 01-2.008-1.047l-1.488-4.166-13.996 5.972A1.667 1.667 0 0136.95 8.83l-1.414-4.526-2.45 1.661a16.512 16.512 0 00-7.253 13.682v18.365c0 1.322.761 2.471 1.875 3.049V30.257c0-6.433 5.233-11.667 11.666-11.667h21.25c6.433 0 11.667 5.234 11.667 11.666v13.695c-.115 14.71-14.336 25.405-28.577 21.213-.26 3.29-2.045 6.078-4.595 7.762 3.971 6.709 13.033 8.27 19.03 3.223a1.667 1.667 0 012.348.202zM50 62.735c10.454 0 18.958-8.505 18.958-18.959v-13.52c0-4.594-3.738-8.332-8.333-8.332h-21.25c-4.595 0-8.333 3.738-8.333 8.333v13.52c0 10.453 8.504 18.958 18.958 18.958z"})]}),Object(m.jsx)("defs",{children:Object(m.jsx)("clipPath",{id:"clip0",children:Object(m.jsx)("path",{fill:"#fff",d:"M0 0H100V100H0z"})})})]})},x=function(e){var a=e.user,t=e.id,c=e.email;return Object(m.jsxs)("div",{className:f.a.userCard__container,children:[Object(m.jsx)("div",{className:f.a.userCard__avatarContainer,children:Object(m.jsx)(_,{})}),Object(m.jsxs)("div",{className:f.a.userCard__profile,children:[Object(m.jsxs)("p",{children:["Name: ",a]}),Object(m.jsxs)("p",{children:["Position: ",t]}),Object(m.jsxs)("p",{className:f.a.userCard__underlineColor,children:["E-mail: ",c]})]}),Object(m.jsx)("div",{className:f.a.userCard__imageWrapper})]})},C=function(e){var a=Object(s.c)();return Object(m.jsxs)("div",{children:[Object(m.jsx)(x,{user:e.data.name,id:e.data.id,email:e.data.email}),Object(m.jsx)("div",{className:"flex_user",children:Object(m.jsx)("button",{onClick:function(){a((document.cookie="token=$ path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.location.pathname="/login",function(e){var a={email:"",id:NaN,name:""};e(h({email:a.email,id:a.id,name:a.name})),e(v())}))},children:"Logout"})})]})},g=Object(s.b)((function(e){return{data:e.auth}}),(function(e){return function(e){o.get("tager/user/profile",{headers:{Authorization:"Bearer ".concat(u)}}).then((function(a){var t=a.data.data,c=t.email,r=t.id,n=t.name;e(j({email:c,id:r,name:n}))}))}}))(C),z=t(32),k=function(e){var a,t=Object(n.useState)({email:"",password:""}),c=Object(z.a)(t,2),r=c[0],i=c[1],d=Object(s.d)((function(e){return e.error})),o=Object(n.useCallback)((function(e){return i(Object(l.a)(Object(l.a)({},r),{},{email:e.target.value}))}),[u(r.email)]);function u(e){return""!==e&&(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)?void(a=!0):(a=!1,!1))}return Object(m.jsx)("div",{className:"formContent",children:Object(m.jsxs)("div",{className:"formContainer",children:[Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u(r.email),a&&r.password.length>2&&e.login(r)},children:[Object(m.jsxs)("div",{className:"formContentFirst",children:[Object(m.jsx)("input",{onChange:o,value:r.email,name:"email",type:"text",id:"first",placeholder:"E-mail"}),Object(m.jsx)("div",{className:a?"check":"check active",children:Object(m.jsx)("p",{children:"Invalid E-mail"})})]}),Object(m.jsxs)("div",{className:"formContentLast",children:[Object(m.jsx)("input",{onChange:function(e){return i(Object(l.a)(Object(l.a)({},r),{},{password:e.target.value}))},value:r.password,name:"password",type:"password",id:"last",placeholder:"Password"}),Object(m.jsx)("div",{className:r.password.length>2?"check":"check active",children:Object(m.jsx)("p",{children:"Short Password"})})]}),Object(m.jsx)("div",{className:"flex_user",children:Object(m.jsx)("input",{type:"submit",value:"Submit"})})]}),Object(m.jsx)("div",{className:d?"check active":"check",children:Object(m.jsx)("p",{children:"Ops... Invalid request :("})})]})})},w=function(e){var a=Object(s.c)();function t(e){var t=e.email,c=e.password;a(function(e,a){return function(t){o.post("auth/user",{email:e,password:a}).then((function(e){document.cookie="token=".concat(e.data.data.accessToken),t(b()),document.location.pathname="/profile"})).catch((function(e){t(p(e))}))}}(t,c))}return Object(m.jsx)(k,{login:t})},F=document.cookie.split(";").filter((function(e){return e.trim().startsWith("token=")})).length,N=function(){return Object(m.jsxs)("div",{children:[F?Object(m.jsx)(i.a,{to:"/profile"}):Object(m.jsx)(i.a,{to:"/login"}),Object(m.jsx)(i.b,{path:"/profile",render:function(){return Object(m.jsx)(g,{})}}),Object(m.jsx)(i.b,{path:"/login",render:function(){return Object(m.jsx)(w,{})}})]})},E=t(14),T=t(19),A={email:"",id:NaN,name:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER_DATA":case"LOG_OUT":return Object(l.a)(Object(l.a)({},e),a.data);default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOGOUT":return!e;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERROR":return!e;default:return e}},L=Object(E.b)({auth:y,logged:M,error:S}),U=t(31),R=Object(E.c)(L,Object(E.a)(U.a));r.a.render(Object(m.jsx)(T.a,{basename:"/OziTAG",children:Object(m.jsx)(s.a,{store:R,children:Object(m.jsx)(N,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.11febb8f.chunk.js.map